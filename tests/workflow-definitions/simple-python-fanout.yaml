---
kind: DataManagerWorkflow
kind-version: "2025.2"
name: python-workflow
description: >-
  A simple parallel workflow. Input is split into N chunks and N processes of the same job is started

steps:
- name: first-step
  description: Create inputs
  specification:
    collection: workflow-engine-unit-test-jobs
    job: splitsmiles
    version: "1.0.0"
    variables:
      name: "count"
      value: "1"
  variable-mapping:
  - variable: inputFile
    from-workflow:
      variable: candidateMolecules

- name: parallel-step
  description: Add some params
  specification:
    collection: workflow-engine-unit-test-jobs
    job: append-col
    version: "1.0.0"
    variables:
      name: "desc1"
      value: "777"
  replicate:
    using:
      input: inputFile
  variable-mapping:
  - variable: inputFile
    from-step:
      name: first-step
      variable: outputFile
  out:
  - outputFile
